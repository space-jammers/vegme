<% @recipes.each.with_index do |recipe, index| %>
  <% recipe = recipe.make_dto %>
  <div class="callout callout-hover-reveal" data-callout-hover-reveal>
    <div class="callout-body">
      <div class="row align-center">
        <div class="column text-center">
          <h5><%= recipe.label %></h5>
          <div class="card-image">
            <%= image_tag(recipe.image) %>
          </div>
          <%= render partial: 'buttons', locals: { recipe: recipe } %>
          <span class="label">
            <b><%= recipe.yield %></b>
            servings
          </span>
          <span class="label">
            <b><%= (recipe.calories/recipe.yield).round(1)%></b>
            calories per serving
          </span>
          <div class="pointer text-center" >
            <i class="fa fa-chevron-down"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="callout-footer">
      <h4>Ingredients</h4>
      <ul class='list-group'>
        <% recipe.ingredient_list.each do |ingred| %>
          <li class='list-item'>
            <%= ingred %>
          </li>
        <% end %>
      </ul>
      <%= link_to 'See Directions',
                  recipe.url,
                  target: '_blank',
                  class:'button',
                  method: :get %>
    </div>
  </div>
<% end %>
